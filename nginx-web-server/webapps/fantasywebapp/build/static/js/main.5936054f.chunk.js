(this.webpackJsonpfantasy2021=this.webpackJsonpfantasy2021||[]).push([[0],{197:function(e,t,a){},199:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(39),s=a.n(r),l=a(45),i=a(46),o=a(56),u=a(55),d=a(18),j=a.n(d),h=a(37),b="SIGN_IN",O="SIGN_OUT",p="SET_AUTH_STATE",x="GET_ALL_LEAGUES",g="GET_LEAGUE",v="SET_LEAGUE",m="GET_SCORES",f="GET_MATCHES",y=a(141),w=a.n(y).a.create(),C=function(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get("/api/league/".concat(e));case 2:n=t.sent,a({type:g,payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=a(35),k=a(12),_=a(29),T=a(2),I=a(10),D=(a(43),a(214)),M=a(86),A=a(216),E=a(108),L=a(211),H=a(217),R=a(40),P=a.n(R),G=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={selectedTeam:null,selectedPlayer:null,selectedMatchDay:null,error:"",league:null},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=function(t,a){return 1===a?Object(T.jsx)(D.a,{icon:!0,value:t,onClick:function(t,a){if(null!==e.state.selectedTeam&&null!==e.selectedMatchDay){e.state.error&&e.setState({error:""});var n=P.a.cloneDeep(e.state.league),c=n.teams[e.state.selectedTeam].players[a.value];c.end=e.state.selectedMatchDay+1,c.active=0,n.teams[e.state.selectedTeam].players[a.value]=c;var r=P.a.cloneDeep(c);r.owner="Open",r.start=0,r.end=100,delete r.active,n.open.push(r),e.setState({league:n})}else e.setState({error:"Select Team And Match"})},children:Object(T.jsx)(M.a,{color:"red",name:"cancel"})}):Object(T.jsx)("div",{})},a=function(t,a){return 0===a?Object(T.jsx)(D.a,{icon:!0,value:t,onClick:function(t,a){if(null!==e.state.selectedTeam&&null!==e.selectedMatchDay){e.state.error&&e.setState({error:""});var n=P.a.cloneDeep(e.state.league);n.teams[e.state.selectedTeam].players[a.value];n.teams[e.state.selectedTeam].players.splice(a.value,1),e.setState({league:n})}else e.setState({error:"Select Team And Match"})},children:Object(T.jsx)(M.a,{color:"black",name:"trash"})}):Object(T.jsx)("div",{})};return this.state.league?Object(T.jsx)(L.a,{children:Object(T.jsxs)(A.a,{container:!0,children:[Object(T.jsx)(A.a.Row,{}),Object(T.jsx)(A.a.Row,{}),Object(T.jsx)(A.a.Row,{children:Object(T.jsx)(A.a.Column,{children:Object(T.jsxs)(H.a,{as:"h4",children:['Manage "',e.state.league?e.state.league.name:"Loading..",'"']})})}),Object(T.jsxs)(A.a.Row,{children:[Object(T.jsx)(A.a.Column,{width:6,children:Object(T.jsx)(L.a.Dropdown,{placeholder:"Team",fluid:!0,selection:!0,options:e.state.league?e.state.league.teams.map((function(e,t){return{key:t,text:e.name,value:t}})):[],onChange:function(t,a){e.setState({selectedTeam:a.value})}})}),Object(T.jsx)(A.a.Column,{width:6,children:Object(T.jsx)(L.a.Dropdown,{placeholder:"Match Day",fluid:!0,selection:!0,options:e.props.matches.map((function(e,t){return{key:t,text:e.number,value:t}})),onChange:function(t,a){e.setState({selectedMatchDay:a.value})}})})]}),Object(T.jsxs)(A.a.Row,{children:[Object(T.jsx)(A.a.Column,{width:6,children:Object(T.jsx)(L.a.Dropdown,{placeholder:"Player",fluid:!0,selection:!0,search:!0,label:"Add Player",options:e.state.league.open.map((function(e,t){return{key:t,text:e.name,value:t}})),onChange:function(t,a){e.setState({selectedPlayer:a.value})}})}),Object(T.jsx)(A.a.Column,{verticalAlign:"bottom",children:Object(T.jsx)(D.a,{color:"blue",size:"large",onClick:function(){if(null!==e.state.selectedTeam&&null!==e.selectedMatchDay&&null!==e.state.selectedPlayer){e.state.error&&e.setState({error:""});var t=P.a.cloneDeep(e.state.league),a=t.open[e.state.selectedPlayer];a.active=1,a.start=e.state.selectedMatchDay+1,a.owner=t.teams[e.state.selectedTeam].name,t.open.splice(e.state.selectedPlayer,1),t.teams[e.state.selectedTeam].players.push(a),e.setState({league:t})}else e.setState({error:"Select Team,Match and Player"})},children:"Add"})})]}),Object(T.jsx)(A.a.Row,{}),Object(T.jsxs)(A.a.Row,{children:[Object(T.jsx)(A.a.Column,{verticalAlign:"middle",children:Object(T.jsx)(H.a,{as:"h4",children:"Players"})}),Object(T.jsx)(A.a.Column,{children:Object(T.jsx)(D.a,{icon:!0,onClick:function(){var t=P.a.cloneDeep(e.state.league);delete t._id,e.props.setLeague(e.props.leagueid,t)},children:Object(T.jsx)(M.a,{color:"black",name:"save"})})}),Object(T.jsx)(A.a.Column,{children:e.props.response?Object(T.jsx)(D.a,{icon:!0,children:Object(T.jsx)(M.a,{color:"green",name:"check"})}):Object(T.jsx)("div",{})})]}),null!=e.state.selectedTeam?e.state.league.teams[e.state.selectedTeam].players.map((function(e,n){return Object(T.jsxs)(A.a.Row,{divided:!0,index:n,children:[Object(T.jsx)(A.a.Column,{width:6,children:Object(T.jsx)(E.a,{color:(c=e.active,1===c?"blue":"red"),size:"large",children:e.name})}),Object(T.jsx)(A.a.Column,{children:e.start}),Object(T.jsx)(A.a.Column,{children:e.end}),Object(T.jsx)(A.a.Column,{width:1,children:t(n,e.active)}),Object(T.jsx)(A.a.Column,{width:1,children:a(n,e.active)})]});var c})):Object(T.jsx)("div",{}),Object(T.jsx)(A.a.Row,{children:Object(T.jsx)(A.a.Column,{children:e.state.error})})]})}):Object(T.jsx)("div",{children:"Loading"})}},{key:"componentDidMount",value:function(){this.props.getLeague(this.props.leagueid),this.props.getMatches()}},{key:"componentDidUpdate",value:function(){null===this.state.league&&this.props.league&&this.setState({league:this.props.league})}}]),a}(c.a.Component),N=Object(S.b)((function(e){return{matches:e.league.matches,league:e.league.current_league,response:e.league.response}}),{getLeague:C,getMatches:function(){return function(){var e=Object(h.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("/api/match");case 2:a=e.sent,t({type:f,payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setLeague:function(e,t){return function(){var a=Object(h.a)(j.a.mark((function a(n){var c;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.put("/api/league/".concat(e),t);case 2:c=a.sent,n({type:v,payload:c.data});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(G),U=function(){var e=Object(k.g)().leagueid,t=Object(k.h)(),a=t.path,n=t.url;return console.log(e,a,n),Object(T.jsx)(N,{leagueid:e,path:a,url:n})},B=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllLeagues()}},{key:"render",value:function(){var e=this.props.leagues.map((function(e){return Object(T.jsx)("div",{class:"row",children:Object(T.jsx)("div",{class:"column",children:Object(T.jsx)(_.b,{to:"/league/".concat(e._id.$oid),children:e.name})},e._id.$oid)},e.$oid)}));return Object(T.jsxs)("div",{class:"ui two column grid container",children:[Object(T.jsx)("div",{class:"row"}),Object(T.jsx)("div",{class:"row",children:Object(T.jsx)("h2",{children:"Leagues"})}),e]})}}]),a}(c.a.Component),z=Object(S.b)((function(e){return{leagues:e.league.leagues}}),{getAllLeagues:function(){return function(){var e=Object(h.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("/api/league");case 2:a=e.sent,t({type:x,payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(B),F=function(){return Object(T.jsx)(z,{})},$=(a(197),a(212)),J=a(213),X=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={activeIndex:-1},e.handleClick=function(t,a){var n=a.index,c=e.state.activeIndex===n?-1:n;e.setState({activeIndex:c})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.current_score.sort((function(e,t){return parseInt(t.points)-parseInt(e.points)})),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;0==t&&(t=Object.keys(e).length);var a=Object.keys(e).map((function(t){return e[t]})),n=(a.sort((function(e,t){return parseInt(t.points)-parseInt(e.points)})),a.slice(0,t).map((function(e,t){return Object(T.jsxs)($.a.Row,{children:[Object(T.jsx)($.a.Cell,{children:P.a.startCase(P.a.toLower(e.name))}),Object(T.jsx)($.a.Cell,{children:e.points}),Object(T.jsx)($.a.Cell,{children:e.categories.batting}),Object(T.jsx)($.a.Cell,{children:e.categories.bowling}),Object(T.jsx)($.a.Cell,{children:e.categories.fielding}),Object(T.jsx)($.a.Cell,{children:e.categories.awards})]},t)})));return n},n=t.filter((function(e){return"open"!==e.owner})).map((function(t,n){var c=e.state.activeIndex;return Object(T.jsxs)("div",{children:[Object(T.jsx)(J.a.Title,{active:c===n,index:n,onClick:e.handleClick,children:Object(T.jsxs)("div",{class:"ui two column grid",children:[Object(T.jsxs)("div",{class:"column left aligned",children:[Object(T.jsx)(M.a,{name:"dropdown"}),Object(T.jsx)("span",{children:t.owner})]}),Object(T.jsx)("div",{class:"column right aligned",children:Object(T.jsx)("span",{children:t.points})})]})}),Object(T.jsx)(J.a.Content,{active:c===n,children:Object(T.jsxs)($.a,{size:"small",unstackable:!0,compact:!0,children:[Object(T.jsxs)($.a.Header,{children:[Object(T.jsx)($.a.HeaderCell,{children:"Name"}),Object(T.jsx)($.a.HeaderCell,{children:"Points"}),Object(T.jsx)($.a.HeaderCell,{children:"Batting"}),Object(T.jsx)($.a.HeaderCell,{children:"Bowling"}),Object(T.jsx)($.a.HeaderCell,{children:"Fielding"}),Object(T.jsx)($.a.HeaderCell,{children:"Awards"})]}),Object(T.jsx)($.a.Body,{children:a(t.players)})]})})]})})),c=t.filter((function(e){return"open"===e.owner})).map((function(e,t){return Object(T.jsxs)($.a,{size:"small",unstackable:!0,compact:!0,children:[Object(T.jsxs)($.a.Header,{children:[Object(T.jsx)($.a.HeaderCell,{children:"Name"}),Object(T.jsx)($.a.HeaderCell,{children:"Points"}),Object(T.jsx)($.a.HeaderCell,{children:"Batting"}),Object(T.jsx)($.a.HeaderCell,{children:"Bowling"}),Object(T.jsx)($.a.HeaderCell,{children:"Fielding"}),Object(T.jsx)($.a.HeaderCell,{children:"Awards"})]}),Object(T.jsx)($.a.Body,{children:a(e.players,25)})]})}));return Object(T.jsxs)("div",{class:"ui one column grid container",children:[Object(T.jsx)("div",{class:"row"}),Object(T.jsx)("div",{class:"row"}),Object(T.jsx)("div",{class:"row"}),Object(T.jsx)("div",{class:"row",children:Object(T.jsx)("div",{class:"column",children:Object(T.jsx)(_.b,{to:"".concat(this.props.url,"/manage"),children:Object(T.jsx)(D.a,{children:"Manage"})})})}),Object(T.jsx)("div",{class:"row",children:Object(T.jsx)("div",{class:"column",children:Object(T.jsx)("h4",{children:this.props.league?this.props.league.name:""})})}),Object(T.jsx)("div",{class:"row",children:Object(T.jsx)("div",{class:"column",children:Object(T.jsx)("b",{children:"Standings"})})}),Object(T.jsx)("div",{class:"row",children:Object(T.jsx)("div",{class:"column",children:Object(T.jsx)(J.a,{styled:!0,fluid:!0,children:n})})}),Object(T.jsx)("div",{class:"row",children:Object(T.jsx)("div",{class:"column",children:Object(T.jsx)("b",{children:"Top 10 Free Agents"})})}),Object(T.jsx)("div",{class:"row",children:Object(T.jsx)("div",{class:"column",children:Object(T.jsx)(J.a,{styled:!0,fluid:!0,children:c})})}),Object(T.jsx)("div",{class:"row"}),Object(T.jsx)("div",{class:"row"})]})}},{key:"componentDidMount",value:function(){this.props.getScores(this.props.leagueid),this.props.getLeague(this.props.leagueid)}}]),a}(c.a.Component),q=Object(S.b)((function(e){return{current_score:e.scores.current_score,league:e.league.current_league}}),{getScores:function(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get("/api/league/".concat(e,"/getscores"));case 2:n=t.sent,a({type:m,payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getLeague:C})(X),V=function(){var e=Object(k.g)().leagueid,t=Object(k.h)(),a=t.path,n=t.url;return Object(T.jsx)(q,{leagueid:e,path:a,url:n})},K=function(){var e=Object(k.h)().path;return Object(T.jsxs)(k.c,{children:[Object(T.jsx)(k.a,{path:"".concat(e,"/manage"),children:Object(T.jsx)(U,{})}),Object(T.jsx)(k.a,{path:"".concat(e),children:Object(T.jsx)(V,{})})]})},Q=function(e){return Object(T.jsx)(_.a,{children:Object(T.jsxs)(k.c,{children:[Object(T.jsx)(k.a,{path:"/league/:leagueid",children:Object(T.jsx)(K,{})}),Object(T.jsx)(k.a,{exact:!0,path:"/",children:Object(T.jsx)(F,{})})]})})},W=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(T.jsx)(A.a,{children:Object(T.jsx)(A.a.Row,{children:Object(T.jsx)(A.a.Column,{children:Object(T.jsx)(Q,{})})})})}}]),a}(c.a.Component),Y=Object(S.b)((function(e){return{isSignedIn:e.auth.isSignedIn}}),{signIn:function(e){return{type:b,payload:{user:e}}},setAuthState:function(e){return{type:p,payload:{authState:e}}}})(W),Z=a(146),ee=(a(198),a(85)),te={isSignedIn:null,userId:null,auth_token:null},ae={leagues:[],matches:[],current_league:null,response:null},ne={current_score:[]},ce=Object(ee.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(I.a)(Object(I.a)({},e),{},{isSignedIn:!0,userId:t.payload.userId,auth_token:t.payload.auth_token});case O:return Object(I.a)(Object(I.a)({},e),{},{isSignedIn:!1,userId:null,auth_token:null});case p:return Object(I.a)(Object(I.a)({},e),{},{isSignedIn:t.payload.authState.isSignedIn,userId:t.payload.authState.userId,auth_token:t.payload.authState.auth_token});default:return e}},league:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(I.a)(Object(I.a)({},e),{},{leagues:t.payload});case g:return Object(I.a)(Object(I.a)({},e),{},{current_league:t.payload});case v:return Object(I.a)(Object(I.a)({},e),{},{response:t.payload});case f:return Object(I.a)(Object(I.a)({},e),{},{matches:t.payload});default:return e}},scores:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;return t.type===m?Object(I.a)(Object(I.a)({},e),{},{current_score:t.payload}):e}}),re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ee.c,se=Object(ee.d)(ce,re(Object(ee.a)(Z.a)));s.a.render(Object(T.jsx)(S.a,{store:se,children:Object(T.jsx)(Y,{})}),document.querySelector("#root"))}},[[199,1,2]]]);
//# sourceMappingURL=main.5936054f.chunk.js.map