(this.webpackJsonpfantasy2021=this.webpackJsonpfantasy2021||[]).push([[0],{198:function(e,t,a){},200:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(43),s=a.n(r),l=a(35),i=a(36),o=a(40),u=a(38),j=a(18),d=a.n(j),h=a(41),b="SIGN_IN",O="SIGN_OUT",p="SET_AUTH_STATE",x="GET_ALL_LEAGUES",g="GET_LEAGUE",v="SET_LEAGUE",m="GET_SCORES",f="GET_MATCHES",y=a(141),w=a.n(y).a.create(),C=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get("/api/league/".concat(e));case 2:n=t.sent,a({type:g,payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=a(37),k=a(12),_=a(29),I=a(1),T=a(10),A=(a(47),a(215)),D=a(86),M=a(217),R=a(108),E=a(212),L=a(218),H=a(44),N=a.n(H),P=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={selectedTeam:null,selectedPlayer:null,selectedMatchDay:null,error:"",league:null},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=function(t,a){return 1===a?Object(I.jsx)(A.a,{icon:!0,value:t,onClick:function(t,a){if(null!==e.state.selectedTeam&&null!==e.selectedMatchDay){e.state.error&&e.setState({error:""});var n=N.a.cloneDeep(e.state.league),c=n.teams[e.state.selectedTeam].players[a.value];c.end=e.state.selectedMatchDay+1,c.active=0,n.teams[e.state.selectedTeam].players[a.value]=c;var r=N.a.cloneDeep(c);r.owner="Open",r.start=0,r.end=100,delete r.active,n.open.push(r),e.setState({league:n})}else e.setState({error:"Select Team And Match"})},children:Object(I.jsx)(D.a,{color:"red",name:"cancel"})}):Object(I.jsx)("div",{})},a=function(t,a){return 0===a?Object(I.jsx)(A.a,{icon:!0,value:t,onClick:function(t,a){if(null!==e.state.selectedTeam&&null!==e.selectedMatchDay){e.state.error&&e.setState({error:""});var n=N.a.cloneDeep(e.state.league);n.teams[e.state.selectedTeam].players[a.value];n.teams[e.state.selectedTeam].players.splice(a.value,1),e.setState({league:n})}else e.setState({error:"Select Team And Match"})},children:Object(I.jsx)(D.a,{color:"black",name:"trash"})}):Object(I.jsx)("div",{})};return this.state.league?Object(I.jsx)(E.a,{children:Object(I.jsxs)(M.a,{container:!0,children:[Object(I.jsx)(M.a.Row,{}),Object(I.jsx)(M.a.Row,{}),Object(I.jsx)(M.a.Row,{children:Object(I.jsx)(M.a.Column,{children:Object(I.jsxs)(L.a,{as:"h4",children:['Manage "',e.state.league?e.state.league.name:"Loading..",'"']})})}),Object(I.jsxs)(M.a.Row,{children:[Object(I.jsx)(M.a.Column,{width:6,children:Object(I.jsx)(E.a.Dropdown,{placeholder:"Team",fluid:!0,selection:!0,options:e.state.league?e.state.league.teams.map((function(e,t){return{key:t,text:e.name,value:t}})):[],onChange:function(t,a){e.setState({selectedTeam:a.value})}})}),Object(I.jsx)(M.a.Column,{width:6,children:Object(I.jsx)(E.a.Dropdown,{placeholder:"Match Day",fluid:!0,selection:!0,options:e.props.matches.map((function(e,t){return{key:t,text:e.number,value:t}})),onChange:function(t,a){e.setState({selectedMatchDay:a.value})}})})]}),Object(I.jsxs)(M.a.Row,{children:[Object(I.jsx)(M.a.Column,{width:6,children:Object(I.jsx)(E.a.Dropdown,{placeholder:"Player",fluid:!0,selection:!0,search:!0,label:"Add Player",options:e.state.league.open.map((function(e,t){return{key:t,text:e.name,value:t}})),onChange:function(t,a){e.setState({selectedPlayer:a.value})}})}),Object(I.jsx)(M.a.Column,{verticalAlign:"bottom",children:Object(I.jsx)(A.a,{color:"blue",size:"large",onClick:function(){if(null!==e.state.selectedTeam&&null!==e.selectedMatchDay&&null!==e.state.selectedPlayer){e.state.error&&e.setState({error:""});var t=N.a.cloneDeep(e.state.league),a=t.open[e.state.selectedPlayer];a.active=1,a.start=e.state.selectedMatchDay+1,a.owner=t.teams[e.state.selectedTeam].name,t.open.splice(e.state.selectedPlayer,1),t.teams[e.state.selectedTeam].players.push(a),e.setState({league:t})}else e.setState({error:"Select Team,Match and Player"})},children:"Add"})})]}),Object(I.jsx)(M.a.Row,{}),Object(I.jsxs)(M.a.Row,{children:[Object(I.jsx)(M.a.Column,{verticalAlign:"middle",children:Object(I.jsx)(L.a,{as:"h4",children:"Players"})}),Object(I.jsx)(M.a.Column,{children:Object(I.jsx)(A.a,{icon:!0,onClick:function(){var t=N.a.cloneDeep(e.state.league);delete t._id,e.props.setLeague(e.props.leagueid,t)},children:Object(I.jsx)(D.a,{color:"black",name:"save"})})}),Object(I.jsx)(M.a.Column,{children:e.props.response?Object(I.jsx)(A.a,{icon:!0,children:Object(I.jsx)(D.a,{color:"green",name:"check"})}):Object(I.jsx)("div",{})})]}),null!=e.state.selectedTeam?e.state.league.teams[e.state.selectedTeam].players.map((function(e,n){return Object(I.jsxs)(M.a.Row,{divided:!0,index:n,children:[Object(I.jsx)(M.a.Column,{width:6,children:Object(I.jsx)(R.a,{color:(c=e.active,1===c?"blue":"red"),size:"large",children:e.name})}),Object(I.jsx)(M.a.Column,{children:e.start}),Object(I.jsx)(M.a.Column,{children:e.end}),Object(I.jsx)(M.a.Column,{width:1,children:t(n,e.active)}),Object(I.jsx)(M.a.Column,{width:1,children:a(n,e.active)})]});var c})):Object(I.jsx)("div",{}),Object(I.jsx)(M.a.Row,{children:Object(I.jsx)(M.a.Column,{children:e.state.error})})]})}):Object(I.jsx)("div",{children:"Loading"})}},{key:"componentDidMount",value:function(){this.props.getLeague(this.props.leagueid),this.props.getMatches()}},{key:"componentDidUpdate",value:function(){null===this.state.league&&this.props.league&&this.setState({league:this.props.league})}}]),a}(c.a.Component),F=Object(S.b)((function(e){return{matches:e.league.matches,league:e.league.current_league,response:e.league.response}}),{getLeague:C,getMatches:function(){return function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("/api/match");case 2:a=e.sent,t({type:f,payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setLeague:function(e,t){return function(){var a=Object(h.a)(d.a.mark((function a(n){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.put("/api/league/".concat(e),t);case 2:c=a.sent,n({type:v,payload:c.data});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(P),G=function(){var e=Object(k.g)().leagueid,t=Object(k.h)(),a=t.path,n=t.url;return console.log(e,a,n),Object(I.jsx)(F,{leagueid:e,path:a,url:n})},U=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllLeagues()}},{key:"render",value:function(){var e=this.props.leagues.map((function(e){return Object(I.jsx)("div",{class:"row",children:Object(I.jsx)("div",{class:"column",children:Object(I.jsx)(_.b,{to:"/league/".concat(e._id.$oid),children:e.name})},e._id.$oid)},e.$oid)}));return Object(I.jsxs)("div",{class:"ui two column grid container",children:[Object(I.jsx)("div",{class:"row"}),Object(I.jsx)("div",{class:"row",children:Object(I.jsx)("h2",{children:"Leagues"})}),e]})}}]),a}(c.a.Component),B=Object(S.b)((function(e){return{leagues:e.league.leagues}}),{getAllLeagues:function(){return function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("/api/league");case 2:a=e.sent,t({type:x,payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(U),z=function(){return Object(I.jsx)(B,{})},$=(a(198),a(213)),J=a(214),X=a(146),q=a.n(X),V=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).startAnimation=function(){var e=n.props.data[n.state.matchNum];n.setState({data:e,matchNum:n.state.matchNum+1}),n.state.matchNum==n.props.data.length&&(clearInterval(n.startAnimationInterval),n.setState({intervalRunning:0}))},n.state={data:[],matchNum:0,intervalRunning:1},n.startAnimationInterval=setInterval((function(){n.startAnimation()}),500),n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return this.props.data?Object(I.jsxs)(M.a,{container:!0,children:[Object(I.jsx)(M.a.Row,{}),Object(I.jsxs)(M.a.Row,{children:[Object(I.jsx)(M.a.Column,{width:11,children:Object(I.jsxs)(R.a,{children:["Match Number ",this.state.matchNum]})}),Object(I.jsx)(M.a.Column,{textAlign:"right",width:1,children:Object(I.jsx)(A.a,{size:"tiny",onClick:function(){e.setState({matchNum:0,intervalRunning:1}),e.startAnimationInterval=setInterval((function(){e.startAnimation()}),500)},disabled:this.state.intervalRunning,children:"Replay"})})]}),Object(I.jsx)(M.a.Row,{children:Object(I.jsx)(M.a.Column,{width:12,children:Object(I.jsx)(q.a,{data:this.state.data,backgroundColor:"#FFFFFF",width:760,padding:0,itemHeight:58,gap:12,titleStyle:{font:"normal 400 13px Arial",color:"#000"},valueStyle:{font:"normal 400 11px Arial",color:"rgba(0,0,0, 0.42)"}})})}),Object(I.jsx)(M.a.Row,{})]}):Object(I.jsx)("div",{})}}]),a}(c.a.Component),K=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={activeIndex:-1},e.handleClick=function(t,a){var n=a.index,c=e.state.activeIndex===n?-1:n;e.setState({activeIndex:c})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;if(this.props.current_score){var t=this.props.current_score.sort((function(e,t){return parseInt(t.points)-parseInt(e.points)})),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;0==t&&(t=Object.keys(e).length);var a=Object.keys(e).map((function(t){return e[t]})),n=(a.sort((function(e,t){return parseInt(t.points)-parseInt(e.points)})),a.slice(0,t).map((function(e,t){return Object(I.jsxs)($.a.Row,{children:[Object(I.jsx)($.a.Cell,{children:N.a.startCase(N.a.toLower(e.name))}),Object(I.jsx)($.a.Cell,{children:e.points}),Object(I.jsx)($.a.Cell,{children:e.categories.batting}),Object(I.jsx)($.a.Cell,{children:e.categories.bowling}),Object(I.jsx)($.a.Cell,{children:e.categories.fielding}),Object(I.jsx)($.a.Cell,{children:e.categories.awards})]},t)})));return n},n=t.filter((function(e){return"open"!==e.owner})).map((function(t,n){var c=e.state.activeIndex;return Object(I.jsxs)("div",{children:[Object(I.jsx)(J.a.Title,{active:c===n,index:n,onClick:e.handleClick,children:Object(I.jsxs)("div",{class:"ui two column grid",children:[Object(I.jsxs)("div",{class:"column left aligned",children:[Object(I.jsx)(D.a,{name:"dropdown"}),Object(I.jsx)("span",{children:t.owner})]}),Object(I.jsx)("div",{class:"column right aligned",children:Object(I.jsx)("span",{children:t.points})})]})}),Object(I.jsx)(J.a.Content,{active:c===n,children:Object(I.jsxs)($.a,{size:"small",unstackable:!0,compact:!0,children:[Object(I.jsxs)($.a.Header,{children:[Object(I.jsx)($.a.HeaderCell,{children:"Name"}),Object(I.jsx)($.a.HeaderCell,{children:"Points"}),Object(I.jsx)($.a.HeaderCell,{children:"Batting"}),Object(I.jsx)($.a.HeaderCell,{children:"Bowling"}),Object(I.jsx)($.a.HeaderCell,{children:"Fielding"}),Object(I.jsx)($.a.HeaderCell,{children:"Awards"})]}),Object(I.jsx)($.a.Body,{children:a(t.players)})]})})]})})),c=t.filter((function(e){return"open"===e.owner})).map((function(e,t){return Object(I.jsxs)($.a,{size:"small",unstackable:!0,compact:!0,children:[Object(I.jsxs)($.a.Header,{children:[Object(I.jsx)($.a.HeaderCell,{children:"Name"}),Object(I.jsx)($.a.HeaderCell,{children:"Points"}),Object(I.jsx)($.a.HeaderCell,{children:"Batting"}),Object(I.jsx)($.a.HeaderCell,{children:"Bowling"}),Object(I.jsx)($.a.HeaderCell,{children:"Fielding"}),Object(I.jsx)($.a.HeaderCell,{children:"Awards"})]}),Object(I.jsx)($.a.Body,{children:a(e.players,10)})]})}));return Object(I.jsxs)("div",{class:"ui one column grid container",children:[Object(I.jsx)("div",{class:"row"}),Object(I.jsx)("div",{class:"row"}),Object(I.jsx)("div",{class:"row"}),Object(I.jsx)("div",{class:"row",children:Object(I.jsx)("div",{class:"column",children:Object(I.jsx)(_.b,{to:"".concat(this.props.url,"/manage"),children:Object(I.jsx)(A.a,{children:"Manage"})})})}),Object(I.jsx)("div",{class:"row",children:Object(I.jsx)("div",{class:"column",children:Object(I.jsx)("h4",{children:this.props.league?this.props.league.name:""})})}),Object(I.jsx)("div",{class:"row",children:Object(I.jsx)("div",{class:"column",children:Object(I.jsx)("b",{children:"Standings"})})}),Object(I.jsx)("div",{class:"row",children:Object(I.jsx)("div",{class:"column",children:Object(I.jsx)(J.a,{styled:!0,fluid:!0,children:n})})}),Object(I.jsx)("div",{class:"row",children:Object(I.jsx)("div",{class:"column",children:Object(I.jsx)("b",{children:"Top 10 Free Agents"})})}),Object(I.jsx)("div",{class:"row",children:Object(I.jsx)("div",{class:"column",children:Object(I.jsx)(J.a,{styled:!0,fluid:!0,children:c})})}),Object(I.jsx)("div",{class:"row",children:Object(I.jsx)("div",{class:"column",children:Object(I.jsx)("div",{className:"groove",children:Object(I.jsx)(V,{data:this.props.scores_by_match})})})}),Object(I.jsx)("div",{class:"row"}),Object(I.jsx)("div",{class:"row"})]})}return Object(I.jsx)("div",{})}},{key:"componentDidMount",value:function(){this.props.getScores(this.props.leagueid),this.props.getLeague(this.props.leagueid)}}]),a}(c.a.Component),Q=Object(S.b)((function(e){return{current_score:e.scores.current_score.scoresbyowner,scores_by_match:e.scores.current_score.scoresbymatch,league:e.league.current_league}}),{getScores:function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get("/api/league/".concat(e,"/getscores"));case 2:n=t.sent,a({type:m,payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getLeague:C})(K),W=function(){var e=Object(k.g)().leagueid,t=Object(k.h)(),a=t.path,n=t.url;return Object(I.jsx)(Q,{leagueid:e,path:a,url:n})},Y=function(){var e=Object(k.h)().path;return Object(I.jsxs)(k.c,{children:[Object(I.jsx)(k.a,{path:"".concat(e,"/manage"),children:Object(I.jsx)(G,{})}),Object(I.jsx)(k.a,{path:"".concat(e),children:Object(I.jsx)(W,{})})]})},Z=function(e){return Object(I.jsx)(_.a,{children:Object(I.jsxs)(k.c,{children:[Object(I.jsx)(k.a,{path:"/league/:leagueid",children:Object(I.jsx)(Y,{})}),Object(I.jsx)(k.a,{exact:!0,path:"/",children:Object(I.jsx)(z,{})})]})})},ee=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(I.jsx)(M.a,{children:Object(I.jsx)(M.a.Row,{children:Object(I.jsx)(M.a.Column,{children:Object(I.jsx)(Z,{})})})})}}]),a}(c.a.Component),te=Object(S.b)((function(e){return{isSignedIn:e.auth.isSignedIn}}),{signIn:function(e){return{type:b,payload:{user:e}}},setAuthState:function(e){return{type:p,payload:{authState:e}}}})(ee),ae=a(147),ne=(a(199),a(85)),ce={isSignedIn:null,userId:null,auth_token:null},re={leagues:[],matches:[],current_league:null,response:null},se={current_score:[]},le=Object(ne.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(T.a)(Object(T.a)({},e),{},{isSignedIn:!0,userId:t.payload.userId,auth_token:t.payload.auth_token});case O:return Object(T.a)(Object(T.a)({},e),{},{isSignedIn:!1,userId:null,auth_token:null});case p:return Object(T.a)(Object(T.a)({},e),{},{isSignedIn:t.payload.authState.isSignedIn,userId:t.payload.authState.userId,auth_token:t.payload.authState.auth_token});default:return e}},league:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(T.a)(Object(T.a)({},e),{},{leagues:t.payload});case g:return Object(T.a)(Object(T.a)({},e),{},{current_league:t.payload});case v:return Object(T.a)(Object(T.a)({},e),{},{response:t.payload});case f:return Object(T.a)(Object(T.a)({},e),{},{matches:t.payload});default:return e}},scores:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;return t.type===m?Object(T.a)(Object(T.a)({},e),{},{current_score:t.payload}):e}}),ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ne.c,oe=Object(ne.d)(le,ie(Object(ne.a)(ae.a)));s.a.render(Object(I.jsx)(S.a,{store:oe,children:Object(I.jsx)(te,{})}),document.querySelector("#root"))}},[[200,1,2]]]);
//# sourceMappingURL=main.eab85f5f.chunk.js.map